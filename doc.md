# Краткая документация

### Структура Id_line.
Структура Id_line – линейная структура для хранения элементов дерева.
Объявление функции:	
typedef struct Id_line ;Тип функции: int.
Элементы структуры:
    • node – указатель на элемент дерева, тип элемента: Tree*;
    • next – указатель на следующий элемент, тип элемента: struct Id_line;
    • prev – указатель на предыдущий элемент, тип элемента: struct Id_line;
    • bro_id – id соседнего элемента дерева, тип элемента: long;
    • child_id – id следующего элемента дерева, тип элемента: long.

### Структура Tree.
Структура Tree – элемент сильноветвящегося дерева.
Объявление функции:	
typedef struct Tree ;Тип функции: int.
Элементы структуры:
    • id – id элемента, тип элемента: long;
    • littera – хранимая буква элемента, тип элемента: char;
    • brother – указатель на соседний элемент дерева, тип элемента: Tree*;
    • child – указатель на следующий элемент дерева, тип элемента: Tree*;
    • first_node – указатель на структуру имён файлов, тип элемента: FNNode*.

### Структура FNNode.
Структура FNNode – линейная структура предназначенная для хранения строк с путями к файлам.
Объявление функции:	
typedef struct FNNode ;Тип функции: int.
Элементы структуры:
    • filename – указатель строку для записи пути к файлу, тип элемента: char *;
    • next – указатель на следующий элемент структуры, тип элемента: struct FNNode*.

### Функция free_tree.
Функция free_tree высвобождает память, которая была выделена для дерева поиска.
Объявление функции:	
int free_tree(Tree* root);Тип функции: int.
Аргументы функции:
    • root – указатель на корень дерева для высвобождения: Tree *.
Возвращаемое значение:	
    • 0 – успешная очистка памяти;
    • 1 – ошибка указателя.

### Функция free_node.
Функция free_node высвобождает память, которая была выделена для линейной структуры.
Объявление функции:	
int free_node(FNNode* node);Тип функции: int.
Аргументы функции:
    • node – указатель на первый элемент структуры для высвобождения: FNNode *.
Возвращаемое значение:	
    • 0 – успешная очистка памяти;
    • 1 – ошибка указателя.

### Функция find_word.
Функция find_word ищет слово в структуре дерева.
Объявление функции:	
int find_word(Tree* root, char* word, FNNode** node_ptr);Тип функции: int.
Аргументы функции:
    • root – указатель на дерево для обработки, тип аргумента: Tree*;
    • word – указатель на строку со словом для поиска, тап аргумента: char*;
    • node_ptr – указатель на указатель линейную структуру для записи результатов поиска, тип аргумента: FNNode **.
Возвращаемое значение:	
    • 0 – слово найдено, результаты записаны;
    • 1 – слово не найдено;
    • 2 – ошибка указателя;
    • 3 – ошибка указателя;
    • 4 – ошибка указателя.

### Функция make_tree_from_file_with_text.
Функция make_tree_from_file_with_text обрабатывает файл и добавляет подходящие из него слова в структуру дерева.
Объявление функции:	
int make_tree_from_file_with_text(Tree** root,char* name_file_with_text, char* allowed_chars);Тип функции: int.
Аргументы функции:
    • root – указатель на указатель на дерево для обработки, тип аргумента: Tree**;
    • name_file_with_text – указатель на строку с именем обрабатываемого файла, тап аргумента: char*;
    • allowed_chars – указатель на строку разрешённых символов, тип аргумента: char*.
Возвращаемое значение:	
    • 0 – файл был успешно обработан;
    • 1 – ошибка указателя.

### Функция add_id_to_tree.
Функция add_id_to_tree присваивает id всем звеньям дерева.
Объявление функции:	
int add_id_to_tree(Tree* root);Тип функции: int.
Аргументы функции:
    • root – указатель на дерево для обработки, тип аргумента: Tree*.
Возвращаемое значение:	
    • 0 – id добавлены;
    • 1 – неверный указатель на дерево.

### Функция add_word_to_tree.
Функция add_word_to_tree добавляет слово в структуру дерева.
Объявление функции:	
int add_word_to_tree(const char *word, int len,char* file_name,Tree** root);Тип функции: int.
Аргументы функции:
    • word – указатель на строку из слова, тип аргумента: char*;
    • len – длина слова, тип аргумента: int;
    • file_name – указатель на строку с именем обрабатываемого файла, тип аргумента: char*;
    • root – указатель на указатель на дерево поиска, тип аргумента: Tree**.
Возвращаемое значение:	
    • 0 – файл успешно обработан.

### Функция is_char_ok.
Функция is_char_ok проверяет, входит ли символ множество обрабатываемых.
Объявление функции:	
int is_char_ok(char ch, char* allowed_chars);Тип функции: int.
Аргументы функции:
    • ch – обрабатываемый симвоы, тип аргумента char;
    • allowed_chars – указатель на строку подходящих символов, тип аргумента: char*.
Возвращаемое значение:	
    • 0 – символ входит в множество подходящих;
    • 1 – символ не входит в множество подходящих;

### Функция load_tree_from_file.
Функция load_tree_from_file загружает дерево из файлов.
Объявление функции:	
int load_tree_from_file(Tree** root, char* file_ids, char* file_strings);Тип функции: int.
Аргументы функции:
    • root – указатель на указатель на структуру дерева, тип аргумента: Tree**;
    • file_ids – указатель на строку с путём к фалу с id, тип аргумента: char*;
    • file_strings - указатель на строку с путём к фалу со строками, тип аргумента: char*.
Возвращаемое значение:	
    • 0 – успешное выполнение сохранения;
    • 1 – ошибка открытия файла;
    • 2 – неверный указатель на дерево;
    • 3 – неверный указатель на строку;
    • 4 – неверный указатель на строку;
    • 5 – ошибка закрытия файла;
    • 6 – ошибка загрузки id в структуру;
    • 7 – ошибка загрузки строк в структуру;
    • 8 – ошибка поиска;
    • 9 – ошибка поиска id;
    • 10 – ошибка загрузки дерева.

### Функция load_tree.
Функция load_tree конвертирует линейную структуру в дерево.
Объявление функции:	
int load_tree(Tree* root, Id_line* id_line); Тип функции: int.
Аргументы функции:
    • Id_line – указатель на линейную структуру, тип аргумента: Id_line*;
    • root – указатель на структуру дерева, тип аргумента: Tree*;
Возвращаемое значение:	
    • 0 – успешное выполнение сохранения;
    • 1 – неверный указатель;
    • 2 – неверный указатель на элемент линейной структуры или дерево;
    • 3 – ошибка id;
    • 4 – ошибка поиска;

### Функция load_strings_to_trees_in_node.
Функция load_strings_to_trees_in_node загружает сохранённые строки в линейную структуру.
Объявление функции:	
int load_strings_to_trees_in_node(Id_line* idLine, FILE* file_strings); Тип функции: int.
Аргументы функции:
    • idLine – указатель на линейную структуру, тип аргумента: Id_line*;
    • file_strings – указатель дескриптор файла, где хранятся строки, тип аргумента: FILE*
Возвращаемое значение:
    • 0 – успешное выполнение сохранения;
    • 1 – неверный указатель на файл;
    • 2 – неверный указатель на элемент линейной структуры;
    • 3 – невозможный id элемента;
    • 4 – нет элемента с заданный id;
    • 5 – ошибка поиска элемента;
    • 6 – ошибка выделения памяти;

### Функция load_ids_to_line.
Функция load_ids_to_line конвертирует сохранённую структуру дерева из файла в линейный список.
Объявление функции:	
int load_ids_to_line(Id_line** last_node, FILE* file_ids); Тип функции: int.
Аргументы функции:
    • last_node – указатель на указатель на структуру линейного списка, который будет указывать на вершину линейного списка , тип аргумента: Id_line**;
    • file_ids – указатель дескриптор файла, где хранится структура дерева: FILE*
Возвращаемое значение:
    • 0 – успешное выполнение сохранения;
    • 1 – неверный указатель на файл;
    • 2 – неверный указатель на линейную структуру;
    • 3 – ошибка чтения id из файла;
    • 4 – ошибка чтения побочного id из файла;
    • 5 – ошибка чтения линейного id из файла.

### Функция save_current_tree_to_file_first_time.
Функция save_current_tree_to_file_first_time сохраняет дерево поиска в файл.
Объявление функции:	
int save_tree_to_file_first_time(Tree* root, char* file_name_id, char* file_name_strings); Тип функции: int.
Аргументы функции:
    • root – указатель на структуру дерева, элемент которого записывается в файл, тип аргумента: Tree*;
    • file_name_id – указатель на строку с именем файла для сохранения структуры дерева: char*;
    • file_name_strings – указатель на строку с именем файла для сохранения строк дерева, тип аргумента: char*.
Возвращаемое значение:
    • 0 – успешное выполнение сохранения;
    • 1 – ошибка открытия файла;
    • 2 – ошибка сохранения элемента дерева;
    • 3 – ошибка закрытия файла;
    • 4 – ошибка сохранения строк дерева.

### Функция save_current_tree.
Функция save_current_tree сохраняет структуру дерева поиска в файл.
Объявление функции:	
int save_current_tree (Tree* current, FILE* file, long int* mov); Тип функции: int.
Аргументы функции:
    • current – указатель на структуру дерева, элемент которого записывается в файл, тип аргумента: Tree*;
    • file – указатель на файл, куда сохраняются id элементов и данные построения, тип аргумента: FILE*;
    • mov – Указатель на значение смещения по файлу, тип аргумента: long int*.
Возвращаемое значение:
    • 0 – успешное выполнение сохранения;
    • 1 – неверный указатель на структуру дерева;
    • 2 – неверный файловый дескриптор;
    • 3 – неверное смещение.

### Функция save_current_tree_file_names.
Функция save_current_tree_file_names сохраняет строки с путями расположения файлов.
Объявление функции:	
int save_current_tree_file_names(Tree* current, FILE* file, long int* mov); Тип функции: int.
Аргументы функции:
    • current – указатель на структуру дерева, элемент которого записывается в файл, тип аргумента: Tree*;
    • file – указатель на файл, куда сохраняются строки, тип аргумента: FILE*;
    • mov – Указатель на значение смещения по файлу, тип аргумента: long int*.
Возвращаемое значение:
    • 0 – успешное выполнение сохранения;
    • 1 – неверный файловый дескриптор;
    • 2 – неверное смещение;
    • 3 – неверный указатель на структуру дерева.